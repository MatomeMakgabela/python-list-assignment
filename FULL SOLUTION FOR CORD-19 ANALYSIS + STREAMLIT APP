import pandas as pd

# Load dataset
df = pd.read_csv("data/metadata.csv")

# Show first rows
print(df.head())

# DataFrame shape
print("Shape:", df.shape)

# Data types
print(df.info())

# Missing values
print(df.isnull().sum())

# Convert publish_time to datetime
df['publish_time'] = pd.to_datetime(df['publish_time'], errors='coerce')

# Extract year
df['year'] = df['publish_time'].dt.year

# Create abstract word count
df['abstract_word_count'] = df['abstract'].astype(str).apply(lambda x: len(x.split()))

# Drop rows missing essential info
df_cleaned = df.dropna(subset=['title', 'publish_time'])

import matplotlib.pyplot as plt
import seaborn as sns

year_counts = df_cleaned['year'].value_counts().sort_index()

plt.figure(figsize=(10,5))
sns.barplot(x=year_counts.index, y=year_counts.values)
plt.title("Publications by Year")
plt.xlabel("Year")
plt.ylabel("Number of Papers")
plt.show()

top_journals = df_cleaned['journal'].value_counts().head(10)
plt.figure(figsize=(10,5))
sns.barplot(y=top_journals.index, x=top_journals.values)
plt.title("Top 10 Journals Publishing COVID-19 Papers")
plt.xlabel("Count")
plt.ylabel("Journal")
plt.show()

plt.hist(df_cleaned['abstract_word_count'], bins=50)
plt.title("Distribution of Abstract Word Count")
plt.xlabel("Word Count")
plt.ylabel("Frequency")
plt.show()

plt.scatter(df_cleaned['year'], df_cleaned['abstract_word_count'], alpha=0.3)
plt.title("Abstract Length vs Publication Year")
plt.xlabel("Year")
plt.ylabel("Word Count")
plt.show()

import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

st.title("ğŸ“˜ CORD-19 Research Explorer")
st.write("Explore metadata from COVID-19 research papers.")

# Load data
@st.cache_data
def load_data():
    df = pd.read_csv("data/metadata.csv")
    df['publish_time'] = pd.to_datetime(df['publish_time'], errors='coerce')
    df['year'] = df['publish_time'].dt.year
    return df

df = load_data()

# Sidebar controls
year_range = st.slider("Select Year Range", 2015, 2025, (2019, 2021))
filtered = df[(df['year'] >= year_range[0]) & (df['year'] <= year_range[1])]

st.subheader("Filtered Results")
st.write(filtered.head())

# Visualization
st.subheader("Publications Per Year")

year_counts = filtered['year'].value_counts().sort_index()

fig, ax = plt.subplots()
sns.barplot(x=year_counts.index, y=year_counts.values, ax=ax)
plt.xticks(rotation=45)
st.pyplot(fig)

# CORD-19 Streamlit Analysis

This project analyzes the CORD-19 metadata dataset and provides an interactive Streamlit app.

## Features
- Load and clean metadata
- Visualize publication counts
- Explore journals and abstract lengths
- Interactive filters via Streamlit UI

## Tools Used
- Python
- Pandas
- Matplotlib
- Seaborn
- Streamlit

## How to Run
pip install -r requirements.txt
streamlit run app.py
